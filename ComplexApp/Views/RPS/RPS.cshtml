@{
    ViewBag.Title = "RPS";
}


<div class="row">
    <div class="col-md-4">
        <h2><i class="fa fa-hand-scissors-o" style="border-radius: 50%; padding: 10px; background-color:#ebebeb; font-size:40px;color: #000000; margin-right:0.2em"></i> Rock-Paper-Scissors</h2>
    </div>
</div>

<hr />
<head>
    <link rel="stylesheet" href="~/Content/Site.css">
</head>
<body>
    <div style="display: flex; justify-content: center; margin-bottom: 20px">
        <img id="randomImage" style="width:200px; height:200px">
    </div>

    <hr />

    <div class="player-options">
        <img id="rockImage" src="~/Images/PIEDRA.png" class="image selectable-image" />
        <img id="paperImage" src="~/Images/PAPEL.png" class="image selectable-image" />
        <img id="scissorsImage" src="~/Images/TIJERAS.png" class="image selectable-image" />
    </div>

    <hr />

    <button id="onceAgain" class="btn btn-info">Once again?!</button>
</body>

<script type="text/javascript">

    var myInterval = window.setInterval(setImage, 100);
    var otraVez = 1;
    var imageComputer;
    var value;
    
    const PIEDRA = "Piedra";
    const PAPEL = "Papel";
    const TIJERA = "Tijera";

    function setImage() {
        i = (i === imageArray.length - 1) ? 0 : i + 1;
        document.getElementById("randomImage").setAttribute("src", imageArray[i]);
        document.getElementById("randomImage").setAttribute("name", nameImage[i]);
    }

    function stopImage() {
        clearInterval(myInterval);
        otraVez = 0;
    }

    function restart() {
        if (otraVez == 0) {
            myInterval = window.setInterval(setImage, 100);
            otraVez = 1;
        }
        else { otraVez=otraVez }
    }

    document.getElementById("rockImage").addEventListener("click", resultRock);
    document.getElementById("paperImage").addEventListener("click", resultPaper);
    document.getElementById("scissorsImage").addEventListener("click", resultScissors);
    document.getElementById("onceAgain").addEventListener("click", restart);

    var imageArray = [], i = -1;
    imageArray[0] = "/Images/PIEDRA.png";
    imageArray[1] = "/Images/PAPEL.png";
    imageArray[2] = "/Images/TIJERAS.png";

    var nameImage = [], i = -1;
    nameImage[0] = PIEDRA;
    nameImage[1] = PAPEL;
    nameImage[2] = TIJERA;

    function resultRock() {
        stopImage();
        opcionComputador = document.getElementById("randomImage").name;
        if (opcionComputador === PAPEL) {
            alert('You lose');
        }
        else if (opcionComputador === PIEDRA) {
            alert('Draw');
        }
        else {
            alert('You win');
        }
    }

    function resultPaper() {
        stopImage();
        opcionComputador = document.getElementById("randomImage").name;
        if (opcionComputador === TIJERA) {
            alert('You lose');
        }
        else if (opcionComputador === PAPEL) {
            alert('Draw');
        }
        else {
            alert('You win');
        }
    }

    function resultScissors() {
        stopImage();
        opcionComputador = document.getElementById("randomImage").name;
        if (opcionComputador === PIEDRA) {
            alert('You lose');
        }
        else if (opcionComputador === TIJERA) {
            alert('Draw');
        }
        else {
            alert('You win');
        }
    }

</script>



